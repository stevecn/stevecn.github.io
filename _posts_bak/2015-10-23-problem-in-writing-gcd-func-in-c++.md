---
layout: post
title: 用c++递归实现gcd遇到的问题
---

刚刚用c++写用辗转相除求最大公约的函数，我想着如此简单定当信手拈来：

{% highlight c++ %}

gcd (int a, int b)
{
    if (a == b) return a;
    return gcd(b, a%b);
}

{% endhighlight %}

没想到却运行不了，寻思许久仍不得解，遂搜索一番找到了下面的代码：

<!--more-->

{% highlight c++ %}

gcd (int a, int b)
{
    if (b == 0) return a;
    return gcd(b, a%b);
}

{% endhighlight %}

我想想这两段代码不是一样吗？我还在草稿纸上写下了这个递归过程，以gcd(319, 377)为例：

    gcd (319, 377)
    gcd (377, 319)
    gcd (319, 58)
    gcd (58, 29)
    gcd (29, 29)

看着这个过程我觉得我自己写的代码没问题呀，但最终我还是发现了自己的错S误B，其实正确的递归过程是这样的：

    gcd (319, 377)
    gcd (377,319)
    gcd (319, 58)
    gcd (58, 29)
    gcd (29, 0)

可以看到最后一个a%b传入时已经为0了，而我却把它当成了29，真不知道当时自己怎么想的。

有时候写代码，亦或是做事时就是这样，本来一个微小的错误会让自己恼很长的时间，我想这也许就是当局者迷吧（其实是自己写得太少了)。

